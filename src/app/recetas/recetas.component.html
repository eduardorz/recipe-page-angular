<div class="recetas-container">
  <div class="busqueda-container">
    <input type="text" [(ngModel)]="filtro" placeholder="Buscar recetas..." />
  </div>

  <div class="receta-card" *ngFor="let receta of recetasFiltradas">
    <img [src]="receta.imagen" alt="{{ receta.nombre }}" class="receta-imagen">
    
    <div class="receta-info">
      <h2>{{ receta.nombre }}
        <button (click)="toggleFavorito(receta)" class="favorito-btn">
          {{ receta.favorito ? '‚ù§Ô∏è' : 'ü§ç' }}
        </button>
      </h2>

      <p>{{ receta.descripcion }}</p>

      <!-- Mostrar Calificaci√≥n Promedio -->
      <div class="calificacion">
        <strong>Calificaci√≥n promedio:</strong> 
        {{ calcularPromedio(receta.calificaciones) | number:'1.1-1' }} / 5
      </div>

      <!-- Pasos de preparaci√≥n -->
      <h3>Pasos:</h3>
      <ul>
        <li *ngFor="let paso of receta.pasos">{{ paso }}</li>
      </ul>

      <!-- Comentarios -->
      <h3>Comentarios:</h3>
      <ul class="comentarios-list">
        <li *ngFor="let comentario of receta.comentarios">
          <strong>{{ comentario.usuario }}:</strong> {{ comentario.comentario }}
        </li>
      </ul>

      <!-- Campo de entrada de comentarios -->
      <label for="usuario">Nombre</label>
      <input [(ngModel)]="usuarioComentario" type="text" placeholder="Pablo">
      
      <label for="comentario">Comentario</label>
      <input [(ngModel)]="nuevoComentario" type="text" placeholder="Lo intent√© hacer pero se me quemaron :( ">
      
      <button (click)="agregarComentario(receta)">Enviar Comentario</button>
    </div>
  </div>
</div>
